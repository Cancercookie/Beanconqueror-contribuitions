<ion-header>
  <ion-grid class="ion-no-padding">
    <ion-row>

      <ion-col size="10">
        <div>
          <ion-chip (click)="brewComponent.toggleChartLines('weight')" [outline]="!brewComponent.weightTrace?.visible"
                    class="weight">{{'BREW_FLOW_WEIGHT' | translate}}</ion-chip>
          <ion-chip (click)="brewComponent.toggleChartLines('calc_flow')"
                    [outline]="!brewComponent.flowPerSecondTrace?.visible"
                    class="flowcalculated">{{'BREW_FLOW_WEIGHT_PER_SECOND' | translate}}</ion-chip>
          <ion-chip (click)="brewComponent.toggleChartLines('realtime_flow')"
                    [outline]="!brewComponent.realtimeFlowTrace?.visible"
                    class="flowreal">{{'BREW_FLOW_WEIGHT_REALTIME' | translate}}</ion-chip>
          <ion-chip (click)="brewComponent.toggleChartLines('pressure')" *ngIf="pressureDeviceConnected()"
                    [outline]="!brewComponent.pressureTrace?.visible"
                    class="pressure">{{'BREW_PRESSURE_FLOW' | translate}}</ion-chip>
        </div>
      </ion-col>
      <ion-col class="ion-text-right" size="2">
        <ion-button (click)="dismiss()" fill="clear" style="margin-top: -1px;">
          <ion-icon name="close-outline" slot="icon-only"></ion-icon>
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-header>
<ion-content>

  <div id="flowCard" style="height:100%">

    <div class="ion-justify-content-evenly" id="informationContainer">
      <div>
        <ion-icon name="beanconqueror-scale-outline"></ion-icon><span #smartScaleWeightDetail>?g</span>
        ({{brew.getBrewRatio()}})
      </div>
      <div>
        <ion-icon name="water-outline"></ion-icon><span #smartScaleWeightPerSecondDetail>?g</span><span #smartScaleAvgFlowPerSecondDetail></span></div>
      <div (click)="resetPressure()" *ngIf="pressureDeviceConnected()">
        <ion-icon name="beanconqueror-pressure"></ion-icon><span #pressureDetail>?</span></div>
      <div>
        <ion-icon name="time-outline"></ion-icon><span
        *ngIf="settings?.brew_milliseconds === false">{{this.uiHelper.formatSeconds(brew.brew_time, 'mm:ss')}}</span>
        <span
          *ngIf="settings?.brew_milliseconds === true">{{this.uiHelper.formatSecondsAndMilliseconds(brew.brew_time, brew.brew_time_milliseconds, 'mm:ss.SSS')}}</span>
      </div>

    </div>

    <div id="brewFlowContainer" style="display:block" style="height:calc(100% - 50px)"></div>

  </div>
</ion-content>
<ion-footer *ngIf="isDetail===false" class="ion-no-border">
  <div class="ion-text-center flow-icon-buttons">
    <ion-button (click)="setCoffeeBloomingTime()"
                *ngIf="brewComponent.timer.timer.runTimer && brewComponent.timer.timer.hasStarted && !brewComponent.timer.timer.hasFinished && showBloomTimer"
                class="big-icon-only" fill="clear" tappable>
      <ion-icon class="ion-color-accent" name="beanconqueror-blooming" slot="icon-only"></ion-icon>
    </ion-button>
    <ion-button (click)="setCoffeeDripTime()"
                *ngIf="brewComponent.timer.timer.runTimer && brewComponent.timer.timer.hasStarted && !brewComponent.timer.timer.hasFinished && showDripTimer"
                class="big-icon-only" fill="clear" tappable>
      <ion-icon class="ion-color-accent" name="beanconqueror-water-drop" slot="icon-only"></ion-icon>
    </ion-button>
    <ion-button (click)="pauseTimer()"
                *ngIf="brewComponent.timer.timer.runTimer && brewComponent.timer.timer.hasStarted && !brewComponent.timer.timer.hasFinished"
                class="big-icon-only" fill="clear" tappable>
      <ion-icon class="ion-color-accent" name="beanconqueror-pause" slot="icon-only"></ion-icon>

    </ion-button>
    <ion-button (click)="resetTimer()"
                *ngIf="(!brewComponent.timer.timer.hasStarted || !brewComponent.timer.timer.runTimer && brewComponent.timer.timer.hasStarted && !brewComponent.timer.timer.hasFinished) && brewComponent.timer.getSeconds()>0"
                class="big-icon-only" fill="clear" tappable>
      <ion-icon class="ion-color-accent" name="beanconqueror-full-reset" slot="icon-only"></ion-icon>
    </ion-button>

    <ion-button (click)="resumeTimer()"
                *ngIf="!brewComponent.timer.timer.runTimer && brewComponent.timer.timer.hasStarted && !brewComponent.timer.timer.hasFinished"
                class="big-icon-only" fill="clear" tappable>
      <ion-icon class="ion-color-accent" name="beanconqueror-play" slot="icon-only"></ion-icon>
    </ion-button>
    <ion-button (click)="startTimer()" *ngIf="!brewComponent.timer.timer.hasStarted" class="big-icon-only" fill="clear"
                tappable>
      <ion-icon class="ion-color-accent" name="beanconqueror-play" slot="icon-only"></ion-icon>
    </ion-button>
    <ion-button (click)="__tareScale()" *ngIf="brewComponent.smartScaleConnected()" class="big-icon-only" fill="clear"
                tappable>
      <ion-icon class="ion-color-accent" name="beanconqueror-scale-tare" slot="icon-only"></ion-icon>
    </ion-button>


  </div>

</ion-footer>
